# ############################################
#  黒鐵式高圧電離気体化衝撃砲塔
# ############################################
#  - Tier 1
#   - 高圧電離気体化衝撃砲壱型(SML)
#  - Tier 2
#   - 高圧電離気体化衝撃砲弐型(SML)
#  - Tier 3
#   - 高圧電離気体化衝撃砲参型(SML)
#  - Tier 4
#   - 高圧電離気体化衝撃砲肆型(SML)
#  - Tier 5
#   - 高圧電離気体化衝撃砲伍型(SML)
#  - Tier 6
#   - 高圧電離気体化衝撃砲陸型(SML)
#  - Tier 7
#   - 高圧電離気体化衝撃砲漆型(SML)
#############################################
#  - Tier 1
#   - 高圧電離気体化衝撃砲壱型(SML)
tech_ktw_shock_canon_1 = {
	area = physics
	tier = 0
	category = { particles }
	ai_update_type = military
	start_tech = yes

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}
}

tech_ktw_shock_canon_2 = {
	area = physics
	cost = @tier1cost2
	tier = 1
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_ktw_shock_canon_1" "tech_lasers_2" }
	weight = @tier1weight2

	gateway = energy_weapons

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}
		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = @favored_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_energy
		}
		modifier = {
			factor = @disfavored_weapon_ai_tech_factor
			NOT = { is_preferred_weapons = weapon_type_energy }
		}
	}
}

tech_ktw_shock_canon_3 = {
	area = physics
	cost = @tier2cost1
	tier = 2
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_ktw_shock_canon_2" "tech_lasers_3" }
	weight = @tier2weight1

	gateway = energy_weapons

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}
		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = @favored_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_energy
		}
		modifier = {
			factor = @disfavored_weapon_ai_tech_factor
			NOT = { is_preferred_weapons = weapon_type_energy }
		}
	}
}

tech_ktw_shock_canon_4 = {
	area = physics
	cost = @tier3cost1
	tier = 3
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_ktw_shock_canon_3" "tech_lasers_4" }
	weight = @tier3weight1

	gateway = energy_weapons

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}
		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = @favored_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_energy
		}
		modifier = {
			factor = @disfavored_weapon_ai_tech_factor
			NOT = { is_preferred_weapons = weapon_type_energy }
		}
	}
}

tech_ktw_shock_canon_5 = {
	area = physics
	cost = @tier4cost1
	tier = 4
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_ktw_shock_canon_4" "tech_lasers_5" }
	weight = @tier4weight1

	gateway = energy_weapons

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}
		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = @favored_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_energy
		}
		modifier = {
			factor = @disfavored_weapon_ai_tech_factor
			NOT = { is_preferred_weapons = weapon_type_energy }
		}
	}
}


tech_ktw_shock_canon_6 = {
	area = physics
	category = { particles }
	tier = 5
	cost = @tier5cost1
	weight = @tier5weight1
	ai_update_type = military
	prerequisites = { "tech_ktw_shock_canon_5" "esc_tech_new_age_warfare" "esc_tech_laser_6" }

	potential = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_adv_vanilla_energy_weapons_forbidden }
	}

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
	}

	ai_weight = {
		factor = @ESC_AI_tech_weight_multiplier
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
	}
}

tech_ktw_shock_canon_7 = {
	area = physics
	category = { particles }
	tier = 5
	cost = @tier5cost3
	weight = @tier5weight3
	ai_update_type = military
	prerequisites = { "tech_ktw_shock_canon_6" "esc_tech_laser_7" }
	is_rare = yes

	potential = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_adv_vanilla_energy_weapons_forbidden }
	}

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = esc_tech_laser_7 }
			}
		}
	}

	ai_weight = {
		factor = @ESC_AI_tech_weight_multiplier
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = esc_tech_laser_7 }
			}
		}
	}
}

# ############################################
#  黑鐵式エーテル衝撃砲塔
# ############################################
#  - Tier 1
#   - エーテル衝撃砲壱型(SML)
#  - Tier 3
#   - エーテル衝撃砲弐型(SML)
#  - Tier 5
#   - エーテル衝撃砲参型(SML)
#  - Tier 6
#   - エーテル衝撃砲肆型(SML)
#  - Tier 7
#   - エーテル衝撃砲伍型(SML)
#############################################
tech_ktw_anti_air_shock_canon_1 = {
	area = physics
	tier = 0
	category = { particles }
	ai_update_type = military
	start_tech = yes

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}
}

tech_ktw_anti_air_shock_canon_2 = {
	area = physics
	cost = @tier2cost1
	tier = 2
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_ktw_anti_air_shock_canon_1" }
	weight = @tier2weight1

	gateway = energy_weapons

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}
		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = @favored_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_energy
		}
		modifier = {
			factor = @disfavored_weapon_ai_tech_factor
			NOT = { is_preferred_weapons = weapon_type_energy }
		}
	}
}

tech_ktw_anti_air_shock_canon_3 = {
	area = physics
	cost = @tier4cost1
	tier = 4
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_ktw_anti_air_shock_canon_2" }
	weight = @tier4weight1

	gateway = energy_weapons

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}
		
	}

	ai_weight = {
		modifier = {
			factor = 1.25
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.5
			has_ethic = ethic_fanatic_militarist
		}

		modifier = {
			factor = @favored_weapon_ai_tech_factor
			is_preferred_weapons = weapon_type_energy
		}
		modifier = {
			factor = @disfavored_weapon_ai_tech_factor
			NOT = { is_preferred_weapons = weapon_type_energy }
		}
	}
}


tech_ktw_anti_air_shock_canon_4 = {
	area = physics
	category = { particles }
	tier = 5
	cost = @tier5cost1
	weight = @tier5weight1
	ai_update_type = military
	prerequisites = { "tech_ktw_anti_air_shock_canon_3" "esc_tech_new_age_warfare" }

	potential = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_adv_vanilla_energy_weapons_forbidden }
	}

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
	}

	ai_weight = {
		factor = @ESC_AI_tech_weight_multiplier
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
	}
}

tech_ktw_anti_air_shock_canon_5 = {
	area = physics
	category = { particles }
	tier = 5
	cost = @tier5cost3
	weight = @tier5weight3
	ai_update_type = military
	prerequisites = { "tech_ktw_anti_air_shock_canon_4" }
	is_rare = yes

	potential = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_adv_vanilla_energy_weapons_forbidden }
	}

	potential = {
		owner = {
			AND = {
				graphical_culture = "fe_01"
				is_origin_empire_of_awaking = yes
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = esc_tech_laser_7 }
			}
		}
	}

	ai_weight = {
		factor = @ESC_AI_tech_weight_multiplier
		modifier = {
			factor = 0.8
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 0.9
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 1.1
			has_ethic = ethic_militarist
		}
		modifier = {
			factor = 1.2
			has_ethic = ethic_fanatic_militarist
		}
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = esc_tech_laser_7 }
			}
		}
	}
}